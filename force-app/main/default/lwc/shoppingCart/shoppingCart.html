<template>
    <lightning-card title="Shopping Cart" icon-name="custom:custom63">
        <div class="slds-m-around_medium">
            <template if:true={products}>
                <template for:each={products} for:item="product">
                    <div key={product.id} class="slds-box slds-m-bottom_small">
                        <lightning-layout>
                            <lightning-layout-item size="4">
                                <img src={product.image} alt={product.title} class="product-image"/>
                            </lightning-layout-item>
                            <lightning-layout-item size="6">
                                <h2>{product.title}</h2>
                                <p>${product.price}</p>
                                <div class="slds-m-top_small">
                                    <lightning-button-icon icon-name="utility:dash" onclick={decreaseQuantity} data-id={product.id}></lightning-button-icon>
                                    <lightning-input type="number" value={product.quantity} readonly class="quantity-input"></lightning-input>
                                    <lightning-button-icon icon-name="utility:add" onclick={increaseQuantity} data-id={product.id}></lightning-button-icon>
                                </div>
                                <lightning-button variant="destructive" label="Remove" onclick={removeProduct} data-id={product.id} class="slds-m-top_small"></lightning-button>
                            </lightning-layout-item>
                        </lightning-layout>
                    </div>
                </template>
            </template>
            <template if:false={products}>
                <p>Loading products...</p>
            </template>
        </div>
        <div class="slds-m-around_medium slds-border_top">
            <h3>Cart Summary</h3>
            <p>Shipping: $<span>{shippingValue}</span></p>
            <p>Total: $<span>{totalPrice}</span></p>
        </div>
    </lightning-card>
</template>
